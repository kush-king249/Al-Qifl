
# Al-Qifl: محاكاة آمنة لبرامج الفدية لأغراض تعليمية

![Al-Qifl Logo](https://via.placeholder.com/400x200?text=Al-Qifl+Logo) <!-- Placeholder for a future logo -->

## تنويه هام

**هذا المشروع مخصص للأغراض التعليمية فقط. لا تقم بتشغيله على أي بيانات حقيقية أو مهمة. المؤلف والجهات المساهمة لا يتحملون أي مسؤولية عن أي ضرر قد ينجم عن سوء استخدام هذه الأداة.**

يهدف مشروع Al-Qifl إلى توفير بيئة آمنة ومتحكم بها لفهم الآلية الداخلية لبرامج الفدية (Ransomware) وكيفية عملها، بالإضافة إلى استكشاف طرق فك التشفير. إنه مصمم لطلاب الأمن السيبراني، الباحثين، وأي شخص مهتم بفهم هذا النوع من التهديدات السيبرانية بشكل عملي.

## الأهداف التعليمية

من خلال هذا المشروع، ستتمكن من:

*   **فهم عميق لتهديدات برامج الفدية:** اكتساب منظور المهاجم وكيفية استهداف الملفات وتشفيرها.
*   **تطبيق عملي للتشفير:** استخدام خوارزميات تشفير قوية (AES عبر مكتبة `cryptography` في Python) في سياق واقعي.
*   **مهارات الاستجابة للحوادث:** فهم عملية فك التشفير وكيفية استعادة الملفات باستخدام المفتاح الصحيح.
*   **تطوير أدوات الأمن:** بناء أدوات ذات واجهات سطر أوامر (CLI) وواجهات رسومية (GUI) للتعامل مع مهام الأمن.

## كيف يعمل Al-Qifl؟

يتكون Al-Qifl من جزئين رئيسيين: **المشفر (Encryptor)** و**المفكك (Decryptor)**.

### 1. المشفر (Al-Qifl Encryptor)

يقوم هذا الجزء بمحاكاة عملية التشفير التي تقوم بها برامج الفدية. يعمل المشفر على النحو التالي:

1.  **تحديد الأهداف:** يطلب منك تحديد مجلد اختبار آمن. يقوم بالبحث عن الملفات ذات الامتدادات الشائعة (مثل `.txt`, `.jpg`, `.pdf`, `.docx`) داخل هذا المجلد.
2.  **إنشاء مفتاح التشفير:** يقوم بإنشاء مفتاح تشفير عشوائي وآمن باستخدام خوارزمية AES. يتم حفظ هذا المفتاح في ملف منفصل (عادةً `key.key`) خارج مجلد الاختبار. هذا يمثل "المفتاح" الذي يمتلكه المهاجم.
3.  **التشفير:** يقوم بتشفير محتوى كل ملف مستهدف باستخدام المفتاح الذي تم إنشاؤه. بعد التشفير، يتم تغيير امتداد الملفات (على سبيل المثال، من `my_doc.txt` إلى `my_doc.txt.rnsm`) ويتم حذف الملف الأصلي.
4.  **رسالة الفدية:** ينشئ ملفًا نصيًا (عادةً `README_FOR_DECRYPTION.txt`) في مجلد الاختبار يحتوي على رسالة وهمية توضح أن الملفات مشفرة وتطلب "فدية وهمية" (في هذه الحالة، تشير إلى استخدام أداة فك التشفير).

### 2. المفكك (Al-Qifl Decryptor)

يقوم هذا الجزء بمحاكاة عملية فك التشفير باستخدام المفتاح الصحيح لاستعادة الملفات.

1.  **تحميل المفتاح:** يطلب منك توفير مسار ملف المفتاح (`key.key`) الذي تم حفظه أثناء عملية التشفير.
2.  **تحديد الملفات المشفرة:** يبحث عن الملفات التي تحمل الامتداد الجديد (مثل `.rnsm`) داخل مجلد الاختبار.
3.  **فك التشفير:** يقوم بفك تشفير محتوى كل ملف مشفر باستخدام المفتاح المقدم. بعد فك التشفير، يتم استعادة الامتداد الأصلي للملف ويتم حذف الملف المشفر.

## بنية المشروع

```
Al-Qifl/
├── README_ar.md          # ملف README باللغة العربية
├── README_en.md          # ملف README باللغة الإنجليزية
├── report.md             # تقرير المشروع الشامل باللغة العربية
├── encryptor/
│   ├── __init__.py
│   ├── cli.py            # واجهة سطر الأوامر للمشفر
│   ├── gui.py            # الواجهة الرسومية للمشفر
│   └── core.py           # المنطق الأساسي للتشفير
├── decryptor/
│   ├── __init__.py
│   ├── cli.py            # واجهة سطر الأوامر لفك التشفير
│   ├── gui.py            # الواجهة الرسومية لفك التشفير
│   └── core.py           # المنطق الأساسي لفك التشفير
├── utils/
│   ├── __init__.py
│   └── file_operations.py # دوال مساعدة للتعامل مع الملفات
├── requirements.txt      # قائمة بالمكتبات المطلوبة
└── main.py               # نقطة الدخول الرئيسية لتشغيل الواجهتين
```

## المتطلبات

*   Python 3.x
*   المكتبات المذكورة في `requirements.txt`

## التثبيت

1.  **استنساخ المستودع:**
    ```bash
    git clone https://github.com/kush-king249/Al-Qifl.git
    cd Al-Qifl
    ```

2.  **إنشاء بيئة افتراضية (موصى به):**
    ```bash
    python3 -m venv venv
    source venv/bin/activate  # لنظامي Linux/macOS
    # venv\Scripts\activate   # لنظام Windows
    ```

3.  **تثبيت التبعيات:**
    ```bash
    pip install -r requirements.txt
    ```

## الاستخدام

يمكنك تشغيل Al-Qifl باستخدام واجهة سطر الأوامر (CLI) أو الواجهة الرسومية (GUI).

### 1. واجهة سطر الأوامر (CLI)

#### المشفر (Encryptor CLI)

لتشفير الملفات في مجلد معين:

```bash
python main.py encrypt-cli <مسار_المجلد_المستهدف> [--key-file <مسار_ملف_المفتاح>] [--ext <امتداد1> <امتداد2> ...]
```

**مثال:**

```bash
python main.py encrypt-cli /home/user/test_files --key-file my_secret_key.key --ext .txt .jpg .pdf
```

*   `<مسار_المجلد_المستهدف>`: المجلد الذي يحتوي على الملفات المراد تشفيرها.
*   `--key-file`: (اختياري) مسار لحفظ مفتاح التشفير. الافتراضي هو `key.key` في نفس مجلد التشغيل.
*   `--ext`: (اختياري) قائمة بالامتدادات المستهدفة. الافتراضي هو `.txt`, `.jpg`, `.jpeg`, `.png`, `.pdf`, `.docx`, `.xlsx`.

#### المفكك (Decryptor CLI)

لفك تشفير الملفات في مجلد معين:

```bash
python main.py decrypt-cli <مسار_المجلد_المستهدف> --key-file <مسار_ملف_المفتاح>
```

**مثال:**

```bash
python main.py decrypt-cli /home/user/test_files --key-file my_secret_key.key
```

*   `<مسار_المجلد_المستهدف>`: المجلد الذي يحتوي على الملفات المشفرة.
*   `--key-file`: **مطلوب** مسار ملف المفتاح الذي تم استخدامه للتشفير.

### 2. الواجهة الرسومية (GUI)

#### المشفر (Encryptor GUI)

لتشغيل الواجهة الرسومية للمشفر:

```bash
python main.py encrypt-gui
```

ستظهر نافذة تسمح لك باختيار المجلد المستهدف وبدء عملية التشفير.

#### المفكك (Decryptor GUI)

لتشغيل الواجهة الرسومية لفك التشفير:

```bash
python main.py decrypt-gui
```

ستظهر نافذة تسمح لك باختيار المجلد المستهدف وملف المفتاح وبدء عملية فك التشفير.

## لقطات شاشة (Screenshots)

<!-- سيتم إضافة لقطات شاشة هنا بعد الاختبار -->

## المؤلف

*   **Hassan Mohamed Hassan Ahmed**

## المساهمة

نرحب بالمساهمات لتحسين هذا المشروع التعليمي. يرجى قراءة إرشادات المساهمة (إذا كانت متوفرة) قبل تقديم طلبات السحب (Pull Requests).

## الترخيص

هذا المشروع مرخص بموجب ترخيص MIT. انظر ملف `LICENSE` لمزيد من التفاصيل. <!-- إذا كان هناك ملف ترخيص -->

